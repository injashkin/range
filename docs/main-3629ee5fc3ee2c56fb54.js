!function(e){function t(t){for(var s,h,l=t[0],r=t[1],o=t[2],u=0,m=[];u<l.length;u++)h=l[u],Object.prototype.hasOwnProperty.call(a,h)&&a[h]&&m.push(a[h][0]),a[h]=0;for(s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s]);for(c&&c(t);m.length;)m.shift()();return n.push.apply(n,o||[]),i()}function i(){for(var e,t=0;t<n.length;t++){for(var i=n[t],s=!0,l=1;l<i.length;l++){var r=i[l];0!==a[r]&&(s=!1)}s&&(n.splice(t--,1),e=h(h.s=i[0]))}return e}var s={},a={0:0},n=[];function h(t){if(s[t])return s[t].exports;var i=s[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,h),i.l=!0,i.exports}h.m=e,h.c=s,h.d=function(e,t,i){h.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},h.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},h.t=function(e,t){if(1&t&&(e=h(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(h.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)h.d(i,s,function(t){return e[t]}.bind(null,s));return i},h.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return h.d(t,"a",t),t},h.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},h.p="./";var l=window.webpackJsonp=window.webpackJsonp||[],r=l.push.bind(l);l.push=t,l=l.slice();for(var o=0;o<l.length;o++)t(l[o]);var c=r;n.push([7,1]),i()}([,function(e,t,i){var s=i(0),a=i(2);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var n={insert:"head",singleton:!1};s(a,n);e.exports=a.locals||{}},function(e,t,i){},function(e,t,i){var s=i(0),a=i(4);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var n={insert:"head",singleton:!1};s(a,n);e.exports=a.locals||{}},function(e,t,i){},function(e,t,i){var s=i(0),a=i(6);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var n={insert:"head",singleton:!1};s(a,n);e.exports=a.locals||{}},function(e,t,i){},function(e,t,i){"use strict";i.r(t);i(1);class s{change(e,t,i,s,a,n){let h=a?"bottom":"right";n&&a&&(e.style.background=`linear-gradient(to ${h}, \n          white 0, \n          white ${s-i}px,\n          #6fcf97 ${s-i}px, \n          #66d2ea ${s-t}px, \n          white ${s-t}px, \n          white ${s}px\n          )`),n&&!a&&(e.style.background=`linear-gradient(to ${h}, \n          white 0, \n          white ${t}px,\n          #6fcf97 ${t}px, \n          #66d2ea ${i}px, \n          white ${i}px, \n          white ${s}px\n          )`),!n&&a&&(e.style.background=`linear-gradient(to ${h}, \n          white 0, \n          white ${s-i}px, \n          #6fcf97 ${s-i}px,\n          #66d2ea ${s}px,\n          white 0,\n          white 0\n          )`),n||a||(e.style.background=`linear-gradient(to ${h}, \n          white 0, \n          white 0,\n          #6fcf97 0, \n          #66d2ea ${i}px,\n          white ${i}px, \n          white ${s}px \n          )`)}}class a{constructor(e){this.positionInPixsels=0,this.thumb=document.createElement("div"),this.prefix=e}init(e,t){this.thumb.className=`${this.prefix}__thumb ${this.prefix}__${t}`,e.append(this.thumb)}getElement(){return this.thumb}getPositionInPx(){return this.positionInPixsels}setPositionInPx(e,t,i){this.positionInPixsels=Math.round(e),this.positionInPixsels>t&&(this.positionInPixsels=t),this.positionInPixsels<0&&(this.positionInPixsels=0),i?(this.thumb.style.top=t-this.positionInPixsels+"px",this.thumb.style.left="0"):(this.thumb.style.top="-0.5rem",this.thumb.style.left=this.positionInPixsels+"px")}show(e){e?this.getElement().classList.remove("-hidden-"):this.getElement().classList.add("-hidden-")}active(e){e?this.getElement().classList.add("-active-"):this.getElement().classList.remove("-active-")}vertical(e){e?this.getElement().classList.add("-vertical-"):this.getElement().classList.remove("-vertical-")}}class n{constructor(e){this.classes="",this.width=51,this.val=0,this.label=document.createElement("div"),this.prefix=e}setValue(e){this.val=e}getElement(){return this.label}show(e){e?this.getElement().classList.remove("-hidden-"):this.getElement().classList.add("-hidden-")}init(e,t){this.classes=`${this.prefix}__info-label ${t}`,this.label.className=this.classes,e.append(this.label)}vertical(e){e?this.getElement().classList.add(this.prefix+"__info-label_vertical"):this.getElement().classList.remove(this.prefix+"__info-label_vertical")}}class h{constructor(e){this.mediator=e}handleNotifyFromMV(e,t,i){this.mediator.handleNotifyFromColleague(e,t,i)}}class l{constructor(e){this.classes="",this.step=1,this.elem=document.createElement("div"),this.prefix=e}init(e,t){this.classes=""+t,this.elem.className=""+t,e.append(this.elem)}getElement(){return this.elem}create(e){const{trackDurationPx:t,isVertical:i,max:s,min:a}=e,n={small:{horiz:this.prefix+"__scale-mark",vert:this.prefix+"__scale-mark_vertical"},average:{horiz:this.prefix+"__average-mark-of-scale",vert:this.prefix+"__average-mark-of-scale_vertical"},big:{horiz:this.prefix+"__num-mark-of-scale",vert:this.prefix+"__num-mark-of-scale_vertical"}};function h(e,t,i){let s=e.horiz,a=e.vert,n=document.createElement("div");i?n.classList.add(a):n.classList.add(s),t.append(n)}function l(e,t,i,s){let a=document.createElement("div");t?a.classList.add(s+"__num-of-scale_vertical"):a.classList.add(s+"__num-of-scale"),e.append(a),a.append(""+i)}function r(e,t,i,s,a){t?(e.classList.add(a+"__scale-item_vertical"),e.style.top=s-i+"px"):(e.classList.add(a+"__scale-item"),e.style.left=i+"px")}let o=this.classes+"_vertical",c=this.getElement();i?c.classList.add(o):c.classList.remove(o),c.innerHTML="";let u=t/(s-a),m=1,d=s-a;for(let e=1;u<10;e++)m*=2,d/=2,u=t/d;let p=(s-a)/d;for(let e=1;p>=10;e++)p/=10;let g,f=0,b=a,x=0,v=0;for(;f<=d;)g=document.createElement("div"),0!==x&&5!==x&&h(n.small,g,i),5===x&&h(n.average,g,i),0===x&&(h(n.big,g,i),l(g,i,b,this.prefix),x=10),x--,r(g,i,v,t,this.prefix),c.append(g),v+=u,f++,b=Number(b)+Number(m)}cleare(){this.getElement().innerHTML=""}show(){this.getElement().classList.remove("-hidden-")}hide(){this.getElement().classList.add("-hidden-")}}class r{constructor(e){this.track=document.createElement("div"),this.prefix=e}init(e,t){this.track.className=""+t,e.append(this.track)}getElement(){return this.track}getDuration(e){return e?this.getElement().getBoundingClientRect().height:this.getElement().getBoundingClientRect().width}positionX(){return this.getElement().getBoundingClientRect().left}positionY(){return this.getElement().getBoundingClientRect().top}vertical(e){e?this.getElement().classList.add("-vertical-"):this.getElement().classList.remove("-vertical-")}}class o{constructor(e){this.checkbox=document.createElement("input"),this.prefix=e}getElement(){return this.checkbox}get isChecked(){return this.checkbox.checked}init(e,t,i){let s=document.createElement("li");s.className=this.prefix+"__li";let a=document.createElement("label");a.className=this.prefix+"__label",s.append(a),s.append(t),this.checkbox.className=`${this.prefix}__input ${this.prefix}__${i}`,this.checkbox.type="checkbox",s.append(this.checkbox),e.append(s)}}class c{constructor(e){this.input=document.createElement("input"),this.prefix=e}getElement(){return this.input}getValue(){return this.input.value}setValue(e){this.getElement().value=String(e)}init(e,t,i){let s=document.createElement("li");s.className=this.prefix+"__li";let a=document.createElement("label");a.className=this.prefix+"__label",s.append(a),s.append(t),this.input.className=`${this.prefix}__input ${this.prefix}__${i}`,this.input.type="number",s.append(this.input),e.append(s)}show(e){e?this.getElement().classList.remove("-hidden-"):this.getElement().classList.add("-hidden-")}}class u{constructor(e){this.button=document.createElement("button"),this.prefix=e}init(e,t,i){this.button.className=`${this.prefix}__button ${this.prefix}__${i}`,this.button.append(t),e.append(this.button)}getElement(){return this.button}show(e){e?this.getElement().classList.remove("-hidden-"):this.getElement().classList.add("-hidden-")}setForVerticalSlider(e){e?this.getElement().classList.add(this.prefix+"__button_open-vertical"):this.getElement().classList.remove(this.prefix+"__button_open-vertical")}}class m{constructor(e){this.panel=document.createElement("div"),this.prefix=e}init(e,t,i,s){if("f"===s||"fieldset"===s){this.panel=document.createElement("fieldset"),this.panel.className=`${this.prefix}__fieldset ${this.prefix}__${i}`;let e=document.createElement("legend");e.className=this.prefix+"__legend",e.insertAdjacentText("afterbegin",t),this.panel.append(e)}else this.panel.className=i?`${this.prefix}__${i}`:""+this.prefix;e.append(this.panel)}getElement(){return this.panel}hide(){this.getElement().classList.add("-hidden-")}show(){this.getElement().classList.remove("-hidden-")}remove(){this.getElement().remove()}vertical(e){e?this.getElement().classList.add("-vertical-"):this.getElement().classList.remove("-vertical-")}usePanel(e){e?this.getElement().classList.add("-width-use-set-panel-"):this.getElement().classList.remove("-width-use-set-panel-")}}class d extends h{constructor(e,t,i){super(e),this.MutationObserver=window.MutationObserver,this.parent=i,this.prefix="js-slider",this.slider=new m(this.prefix),this.sliderPanel=new m(this.prefix),this.settingsPanel=new m(this.prefix),this.inputPanel=new m(this.prefix),this.checkboxPanel=new m(this.prefix),this.scale=new l(this.prefix),this.track=new r(this.prefix),this.thumb1=new a(this.prefix),this.thumb2=new a(this.prefix),this.infoLabel1=new n(this.prefix),this.infoLabel2=new n(this.prefix),this.bar=new s,this.vertical=new o(this.prefix),this.range=new o(this.prefix),this.label=new o(this.prefix),this.checkboxScale=new o(this.prefix),this.inputValue1=new c(this.prefix),this.inputValue2=new c(this.prefix),this.inputMin=new c(this.prefix),this.inputMax=new c(this.prefix),this.buttonOpen=new u(this.prefix),this.buttonClose=new u(this.prefix),this.activeThumb=this.thumb2,this.config=t}setState(e,t){super.handleNotifyFromMV("View",e,t)}updateValue1(){super.handleNotifyFromMV("View","updateValue1","")}updateValue2(){super.handleNotifyFromMV("View","updateValue2","")}updateMin(){super.handleNotifyFromMV("View","updateMin","")}updateMax(){super.handleNotifyFromMV("View","updateMax","")}updateVertical(){super.handleNotifyFromMV("View","updateVertical","")}updateStateIsRange(){super.handleNotifyFromMV("View","updateStateRange","")}updateStateIsLabel(){super.handleNotifyFromMV("View","updateStateLabel","")}updateStateIsScale(){super.handleNotifyFromMV("View","updateStateScale","")}setStateActiveThumb(e){super.handleNotifyFromMV("View","activeThumb",e)}notifyOfWindowResizing(){super.handleNotifyFromMV("View","windowResizing",this.track.getDuration(this.config.isVertical))}notifyOfCalcPositionPxActiveThumb(){super.handleNotifyFromMV("View","positionPxActiveThumb",this.config.positionPxActiveThumb)}notifyOfSetPosition(){const e=this.getValueInUnitsOfCurrentThumb(this.activeThumb,this.config.trackDurationPx,this.config.max,this.config.min);super.handleNotifyFromMV("View","setPosition",e)}setStateTrackDurationPx(){super.handleNotifyFromMV("View","changeTrackDurationPx",this.track.getDuration(this.config.isVertical))}updateSetPanel(){super.handleNotifyFromMV("View","updateSetPanel","")}setPanelTrue(){super.handleNotifyFromMV("View","setPanelTrue",!0)}setPanelFalse(){super.handleNotifyFromMV("View","setPanelFalse",!1)}setStateValue1(e){super.handleNotifyFromMV("View","changeValue1",Number(e))}setStateValue2(e){super.handleNotifyFromMV("View","changeValue2",Number(e))}setStateMin(e){super.handleNotifyFromMV("View","inputMin",Number(e))}setStateMax(e){super.handleNotifyFromMV("View","inputMax",Number(e))}setStateIsVertical(e){super.handleNotifyFromMV("View","clickVertical",e)}setStateIsRange(e){super.handleNotifyFromMV("View","clickRange",e)}setStateCheckboxLabel(e){super.handleNotifyFromMV("View","isLabel",e)}setStateCheckboxScale(e){super.handleNotifyFromMV("View","checkboxScale",e)}handleNotifyFromPresenter(e,t){"updateStateUserSetPanel"===e&&(this.config.userSetPanel=t),"updateValue1"===e&&this.inputValue1.setValue(t),"changeValue1"===e&&(this.inputValue1.setValue(t),this.moveThumbToEnteredValue1(t)),"updateValue2"===e&&this.inputValue2.setValue(t),"changeValue2"===e&&(this.inputValue2.setValue(t),this.moveThumbToEnteredValue2(t)),"updateMin"===e&&(this.config.min=t,this.inputMin.setValue(t)),"inputMin"===e&&(this.config.min=t,this.setMinOfScale(t)),"updateMax"===e&&(this.config.max=t,this.inputMax.setValue(t)),"inputMax"===e&&(this.config.max=t,this.setMaxOfScale(t)),"updateSetPanel"===e&&(t?this.openSettingsPanel():this.closeSettingsPanel()),"updateVertical"===e&&this.changeCheckbox("vertical",t),"updateStateRange"===e&&this.changeCheckbox("range",t),"updateStateLabel"===e&&this.changeCheckbox("label",t),"updateStateScale"===e&&this.changeCheckbox("scale",t),"clickVertical"===e&&this.handleClickOnVerticalCheckbox(t),"clickRange"===e&&this.handleClickOnRangeCheckbox(t),"isLabel"===e&&this.handleClickOnLabelCheckbox(t),"checkboxScale"===e&&this.showOrHideScale(t),"activeThumb"===e&&this.setActiveThumb(t),"setPanelTrue"===e&&this.openSettingsPanel(),"setPanelFalse"===e&&this.closeSettingsPanel(),"changeTrackDurationPx"===e&&(this.config.trackDurationPx=t),"windowResizing"===e&&this.handleWindowResizing(),"positionPxActiveThumb"===e&&(this.config.positionPxActiveThumb=t)}init(){if(this.slider.init(this.parent,"","",""),this.sliderPanel.init(this.slider.getElement(),"","element",""),this.track.init(this.sliderPanel.getElement(),this.prefix+"__track"),this.scale.init(this.sliderPanel.getElement(),this.prefix+"__scale"),this.thumb1.init(this.track.getElement(),"thumb-one"),this.thumb2.init(this.track.getElement(),"thumb-two"),this.infoLabel1.init(this.thumb1.getElement(),this.prefix+"__info-label1"),this.infoLabel2.init(this.thumb2.getElement(),this.prefix+"__info-label2"),this.updateVertical(),this.updateStateIsRange(),this.updateStateIsLabel(),this.updateStateIsScale(),this.updateMin(),this.updateMax(),this.updateValue1(),this.updateValue2(),this.setStateTrackDurationPx(),this.handleClickOnRangeCheckbox(this.config.isRange),this.scale.create(this.config),this.syncInfoLabelFfomThumb(),this.buttonOpen.init(this.track.getElement(),"O","button_open"),this.handleClickOnVerticalCheckbox(this.config.isVertical),!this.config.userSetPanel){this.slider.usePanel(this.config.userSetPanel),this.settingsPanel.init(this.slider.getElement(),"","settings-panel",""),this.buttonClose.init(this.settingsPanel.getElement(),"Закрыть","button_close"),this.inputPanel.init(this.settingsPanel.getElement(),"Ввод и настройки","input-numbers","f");let e=document.createElement("ul");e.className=this.prefix+"__ul",this.inputPanel.getElement().insertAdjacentElement("afterbegin",e),e.setAttribute("role","none"),this.inputValue1.init(e,"Значение","input-value1"),this.inputValue2.init(e,"","input-value2"),this.inputMin.init(e,"Мин","min-value"),this.inputMax.init(e,"Макс","max-value");let t=document.createElement("span");t.className=this.prefix+"__hyphen-between-input -hidden-",e.insertAdjacentElement("beforeend",t),t.insertAdjacentText("afterbegin","-"),this.checkboxPanel.init(this.settingsPanel.getElement(),"Опции","checkboxes","f");let i=document.createElement("ul");i.className=this.prefix+"__ul",this.checkboxPanel.getElement().insertAdjacentElement("afterbegin",i),i.setAttribute("role","none"),this.vertical.init(i,"Вертикал.","checkbox-view"),this.range.init(i,"Диапазон","range"),this.label.init(i,"Лэйбл","label"),this.checkboxScale.init(i,"Шкала","checkbox-scale"),this.checkboxScale.isChecked?this.scale.show():this.scale.hide(),this.infoLabel1.show(this.label.isChecked),this.infoLabel2.show(this.label.isChecked)}this.updateSetPanel(),this.moveThumbToEnteredValue1(this.inputValue1.getValue()),this.moveThumbToEnteredValue2(this.inputValue2.getValue()),this.moveProgressBar(this.config.trackDurationPx),this.initListeners()}initListeners(){window.addEventListener("resize",this.notifyOfWindowResizing.bind(this));new MutationObserver(this.onMutateForSlider.bind(this)).observe(this.slider.getElement(),{attributes:!0}),this.slider.getElement().addEventListener("mousedown",this.handler.bind(this)),this.slider.getElement().addEventListener("touchstart",this.handler.bind(this)),this.slider.getElement().addEventListener("mouseup",this.handler.bind(this)),this.slider.getElement().addEventListener("click",this.handler.bind(this)),this.slider.getElement().addEventListener("keyup",this.handler.bind(this))}handler(e){if("mousedown"===e.type||"touchstart"===e.type)switch(e.target){case this.thumb1.getElement():this.handleThumb("thumb1");break;case this.thumb2.getElement():this.handleThumb("thumb2")}if("mouseup"===e.type&&this.fixingPositionThumb(),"click"===e.type)switch(e.target){case this.vertical.getElement():this.setStateIsVertical(this.vertical.isChecked);break;case this.range.getElement():this.setStateIsRange(this.range.isChecked);break;case this.label.getElement():this.setStateCheckboxLabel(this.label.isChecked);break;case this.checkboxScale.getElement():this.setStateCheckboxScale(this.checkboxScale.isChecked);break;case this.buttonOpen.getElement():this.setPanelTrue();break;case this.buttonClose.getElement():this.setPanelFalse()}if("keyup"===e.type)switch(e.target){case this.inputValue1.getElement():this.setStateValue1(this.inputValue1.getValue());break;case this.inputValue2.getElement():this.setStateValue2(this.inputValue2.getValue());break;case this.inputMin.getElement():this.setStateMin(this.inputMin.getValue());break;case this.inputMax.getElement():this.setStateMax(this.inputMax.getValue())}}handleThumb(e){this.setStateActiveThumb(e),this.makePressedThumbBottom(),this.moveThumb()}makePressedThumbBottom(){this.config.value1===this.config.max&&this.setStateActiveThumb("thumb1"),this.config.value2===this.config.min&&this.setStateActiveThumb("thumb2")}fixingPositionThumb(){this.moveThumbToEnteredValue1(this.config.value1),this.moveThumbToEnteredValue2(this.config.value2)}moveThumbToEnteredValue1(e){this.thumb1.setPositionInPx(this.convertUnitsToPixels(e,this.config.trackDurationPx,this.config.max,this.config.min),this.config.trackDurationPx,this.config.isVertical),this.syncInfoLabelFfomThumb(),this.checkForLabelConflict(),this.moveProgressBar(this.config.trackDurationPx)}moveThumbToEnteredValue2(e){this.thumb2.setPositionInPx(this.convertUnitsToPixels(e,this.config.trackDurationPx,this.config.max,this.config.min),this.config.trackDurationPx,this.config.isVertical),this.syncInfoLabelFfomThumb(),this.checkForLabelConflict(),this.moveProgressBar(this.config.trackDurationPx)}convertUnitsToPixels(e,t,i,s){return s<0&&(e+=-1*s),e<0&&(e*=-1),(e-s)*(t/(i-s))}getValueInUnitsOfCurrentThumb(e,t,i,s){let a=(i-s)/t;return Math.round(e.getPositionInPx()*a+Number(s))}setMinOfScale(e){this.inputMin.setValue(e),this.scale.create(this.config),this.moveThumbToEnteredValue1(this.inputValue1.getValue()),this.setStateValue1(this.inputValue1.getValue()),this.moveThumbToEnteredValue2(this.inputValue2.getValue()),this.setStateValue2(this.inputValue2.getValue())}setMaxOfScale(e){this.inputMax.setValue(e),this.scale.create(this.config),this.moveThumbToEnteredValue2(this.inputValue2.getValue()),this.setStateValue2(this.inputValue2.getValue()),this.moveThumbToEnteredValue1(this.inputValue1.getValue()),this.setStateValue1(this.inputValue1.getValue())}handleClickOnLabelCheckbox(e){this.infoLabel1.show(e),this.infoLabel2.show(e)}showOrHideScale(e){e?this.scale.show():this.scale.hide()}openSettingsPanel(){this.notifyOnChange(),this.settingsPanel.show(),this.buttonOpen.show(!this.config.setPanel)}closeSettingsPanel(){this.notifyOnChange(),this.settingsPanel.hide(),this.buttonOpen.show(!this.config.setPanel)}setActiveThumb(e){"thumb1"===e&&(this.thumb1.active(!0),this.thumb2.active(!1),this.activeThumb=this.thumb1),"thumb2"===e&&(this.thumb1.active(!1),this.thumb2.active(!0),this.activeThumb=this.thumb2)}changeCheckbox(e,t){"vertical"===e&&(this.vertical.getElement().checked=t,this.config.isVertical=t),"range"===e&&(this.range.getElement().checked=t,this.config.isRange=t),"label"===e&&(this.label.getElement().checked=t),"scale"===e&&(this.checkboxScale.getElement().checked=t)}calcPositionPxActiveThumb(e,t){this.config.positionPxActiveThumb=this.config.isVertical?this.config.trackDurationPx-(t-this.track.positionY()):e-this.track.positionX()}updateComponents(){this.activeThumb.setPositionInPx(this.config.positionPxActiveThumb,this.config.trackDurationPx,this.config.isVertical),this.notifyOfSetPosition(),this.syncInputFromThumb(),this.moveProgressBar(this.config.trackDurationPx),this.syncInfoLabelFfomThumb()}callOnChange(e){e(this.config)}notifyOnChange(){"function"==typeof this.config.onChange&&this.callOnChange(this.config.onChange)}moveThumb(){let e=e=>{let t=e.changedTouches[0];this.calcPositionPxActiveThumb(t.clientX,t.clientY),this.notifyOfCalcPositionPxActiveThumb(),this.notifyOnChange(),this.updateComponents(),this.checkForLabelConflict()},t=e=>{e.preventDefault(),this.calcPositionPxActiveThumb(e.clientX,e.clientY),this.notifyOfCalcPositionPxActiveThumb(),this.notifyOnChange(),this.updateComponents(),this.checkForLabelConflict()},i=()=>{document.removeEventListener("mouseup",i),document.removeEventListener("mousemove",t)},s=()=>{document.removeEventListener("touchend",s),document.removeEventListener("touchmove",e)};document.addEventListener("mousemove",t),document.addEventListener("mouseup",i),document.addEventListener("touchmove",e),document.addEventListener("touchend",s)}getDistanceInPixelsBetweenLabels(){let e=this.thumb1.getPositionInPx()+this.infoLabel1.width/2;return this.thumb2.getPositionInPx()-this.infoLabel2.width/2-e}moveProgressBar(e){let t=this.config.isRange?this.thumb1.getPositionInPx():0,i=this.config.isRange?this.thumb2.getPositionInPx():this.thumb1.getPositionInPx();this.bar.change(this.track.getElement(),t,i,e,this.config.isVertical,this.config.isRange)}moveLabelsWhenTheyCollide(){let e=this.getDistanceInPixelsBetweenLabels(),t=100/this.infoLabel1.width,i=50,s=50;e<0&&(i-=e*t/2,s+=e*t/2,this.infoLabel1.getElement().style.transform=`translate(-${i}%,-120%)`,this.infoLabel2.getElement().style.transform=`translate(-${s}%,-120%)`)}checkForLabelConflict(){this.config.isRange&&(this.config.isVertical||this.moveLabelsWhenTheyCollide()),this.getDistanceInPixelsBetweenLabels()>this.infoLabel1.width&&(this.infoLabel1.getElement().removeAttribute("style"),this.infoLabel2.getElement().removeAttribute("style"))}syncInputFromThumb(){this.inputValue1.setValue(this.getValueInUnitsOfCurrentThumb(this.thumb1,this.config.trackDurationPx,this.config.max,this.config.min)),this.inputValue2.setValue(this.getValueInUnitsOfCurrentThumb(this.thumb2,this.config.trackDurationPx,this.config.max,this.config.min))}syncInfoLabelFfomThumb(){this.infoLabel1.getElement().innerText=Math.round(this.getValueInUnitsOfCurrentThumb(this.thumb1,this.config.trackDurationPx,this.config.max,this.config.min)).toString(),this.infoLabel2.getElement().innerText=Math.round(this.getValueInUnitsOfCurrentThumb(this.thumb2,this.config.trackDurationPx,this.config.max,this.config.min)).toString()}handleWindowResizing(){this.updateMin(),this.updateMax(),this.updateValue1(),this.updateValue2(),this.setStateTrackDurationPx(),this.scale.create(this.config),this.setStateValue1(this.inputValue1.getValue()),this.setStateValue2(this.inputValue2.getValue())}onMutateForSlider(){this.handleWindowResizing()}handleClickOnVerticalCheckbox(e){this.track.vertical(e),this.thumb1.vertical(e),this.thumb2.vertical(e),this.slider.vertical(e),this.sliderPanel.vertical(e),this.settingsPanel.vertical(e),this.settingsPanel.getElement().querySelectorAll(`.${this.prefix}__ul`).forEach(t=>{e?t.classList.add(this.prefix+"__ul_vertical"):t.classList.remove(this.prefix+"__ul_vertical")}),this.buttonOpen.setForVerticalSlider(e),this.infoLabel1.vertical(e),this.infoLabel2.vertical(e),this.setStateTrackDurationPx(),this.moveThumbToEnteredValue1(this.inputValue1.getValue()),this.moveThumbToEnteredValue2(this.inputValue2.getValue()),this.scale.create(this.config)}handleClickOnRangeCheckbox(e){this.thumb2.show(e),this.inputValue2.show(e),this.moveProgressBar(this.config.trackDurationPx)}}class p extends h{constructor(e,t){super(e),this.state=t}changeState(e,t){}getState(e){return"dfgdfgd"}handleNotifyFromPresenter(e,t){"updateValue1"===e&&super.handleNotifyFromMV("Model",e,this.state.value1),"updateValue2"===e&&super.handleNotifyFromMV("Model",e,this.state.value2),"updateMin"===e&&super.handleNotifyFromMV("Model",e,this.state.min),"updateMax"===e&&super.handleNotifyFromMV("Model",e,this.state.max),"changeValue1"===e&&(this.state.value1=this.validateValue1(t),super.handleNotifyFromMV("Model",e,this.state.value1)),"changeValue2"===e&&(this.state.value2=this.validateValue2(t),super.handleNotifyFromMV("Model",e,this.state.value2)),"updateSetPanel"===e&&super.handleNotifyFromMV("Model",e,this.state.setPanel),"updateVertical"===e&&super.handleNotifyFromMV("Model",e,this.state.isVertical),"updateStateRange"===e&&super.handleNotifyFromMV("Model",e,this.state.isRange),"updateStateLabel"===e&&super.handleNotifyFromMV("Model",e,this.state.isLabel),"updateStateScale"===e&&super.handleNotifyFromMV("Model",e,this.state.isScale),"changeTrackDurationPx"===e&&(this.state.trackDurationPx=t,super.handleNotifyFromMV("Model",e,this.state.trackDurationPx)),"clickVertical"===e&&(this.state.isVertical=t,super.handleNotifyFromMV("Model",e,this.state.isVertical)),"clickRange"===e&&(this.state.isRange=t,super.handleNotifyFromMV("Model",e,this.state.isRange)),"isLabel"===e&&(this.state.isLabel=t,super.handleNotifyFromMV("Model",e,this.state.isLabel)),"checkboxScale"===e&&(this.state.isScale=t,super.handleNotifyFromMV("Model",e,this.state.isScale)),"inputMin"===e&&(this.state.min=this.validateMin(t),super.handleNotifyFromMV("Model",e,this.state.min)),"inputMax"===e&&(this.state.max=this.validateMax(t),super.handleNotifyFromMV("Model",e,this.state.max)),"setPanelTrue"===e&&(this.state.setPanel=t,super.handleNotifyFromMV("Model",e,this.state.setPanel)),"setPanelFalse"===e&&(this.state.setPanel=t,super.handleNotifyFromMV("Model",e,this.state.setPanel)),"activeThumb"===e&&(this.state.activeThumb=t,super.handleNotifyFromMV("Model",e,this.state.activeThumb)),"windowResizing"===e&&(this.state.trackDurationPx=t,super.handleNotifyFromMV("Model",e,this.state.trackDurationPx)),"positionPxActiveThumb"===e&&(this.state.positionPxActiveThumb=this.limitMove(t,this.state.trackDurationPx),this.state.positionPxActiveThumb=this.cancelCrossingThumbs(this.state.positionPxActiveThumb),super.handleNotifyFromMV("Model",e,this.state.positionPxActiveThumb)),"setPosition"===e&&("thumb1"===this.state.activeThumb&&(this.state.value1=t),"thumb2"===this.state.activeThumb&&(this.state.value2=t),super.handleNotifyFromMV("Model",e,this.state.activeThumb))}limitMove(e,t){return e<0&&(e=0),e>t&&(e=t),e}cancelCrossingThumbs(e){const{isRange:t,activeThumb:i,value1:s,value2:a,trackDurationPx:n,max:h,min:l}=this.state,r=n/(h-l)*(s-l),o=n/(h-l)*(a-l);return t?"thumb2"===i?e<r?e=r:e:e>o?e=o:e:e}validateValue1(e){const{min:t,max:i,value2:s,isRange:a}=this.state;return e<t?t:a?e>s?s:e:e>i?i:e}validateValue2(e){const{max:t,value1:i}=this.state;return e<i?i:e>=t?t:e}validateMin(e){const{min:t,max:i}=this.state;return e>=i?t:e}validateMax(e){const{min:t,max:i}=this.state;return e<t?i:e}}class g{handleNotifyFromColleague(e,t,i){"View"===e&&this.model.handleNotifyFromPresenter(t,i),"Model"===e&&this.view.handleNotifyFromPresenter(t,i)}}class f{constructor(e,t){this.defaults={isVertical:!1,isRange:!0,isLabel:!0,isScale:!0,setPanel:!0,value1:20,value2:95,min:0,max:130,positionPxActiveThumb:0,trackDurationPx:1440,activeThumb:"thumb2",userSetPanel:!1};const i=$.extend({},this.defaults,t),s=new g;this.model=new p(s,i),this.view=new d(s,i,e),s.model=this.model,s.view=this.view,this.view.init()}getData(){return this.view.config}setFrom(e){this.view.setStateValue1(e)}setTo(e){this.view.setStateValue2(e)}setMin(e){this.view.setStateMin(e)}setMax(e){this.view.setStateMax(e)}setVertical(e){this.view.setStateIsVertical(e)}setRange(e){this.view.setStateIsRange(e)}setLabel(e){this.view.setStateCheckboxLabel(e)}setScale(e){this.view.setStateCheckboxScale(e)}closeSettingPanel(){this.view.setPanelFalse()}}!function(e){e.fn.jslider=function(t={}){return this.each((function(){e.data(this,"jslider")||e.data(this,"jslider",new f(this,t))}))}}(jQuery);class b{constructor(e,t){this.classes=e,this.parent=t}getElement(){return this.parent.querySelector("."+this.classes)}setValue(e){this.getElement().checked=e}getValue(){return this.getElement().checked}}class x{constructor(e,t){this.classes=e,this.parent=t}getElement(){return this.parent.querySelector("."+this.classes)}setValue(e){this.getElement().value=String(e)}getValue(){return+this.getElement().value}}i(3);class v{constructor(e,t){this.classes=e,this.parent=t}getElement(){return this.parent.querySelector("."+this.classes)}show(){this.getElement().classList.remove("-hidden-")}}class V{constructor(e){this.classes=e,this.parentElement=document.querySelector("."+e),this.sliderElement=this.parentElement.querySelector(".js-slider"),this.element=this.parentElement.querySelector(".js-slider__settings-panel"),this.sliderElement.append(this.element),this.$slider=$("."+this.classes).jslider().data("jslider"),this.$data=this.$slider.getData(),this.buttonClose=new v("js-slider__button_close",this.element),this.from=new x("js-slider__input-value1",this.element),this.to=new x("js-slider__input-value2",this.element),this.min=new x("js-slider__min-value",this.element),this.max=new x("js-slider__max-value",this.element),this.vertical=new b("js-slider__checkbox-view",this.element),this.range=new b("js-slider__range",this.element),this.label=new b("js-slider__labels",this.element),this.checkboxScale=new b("js-slider__checkbox-scale",this.element)}init(){this.from.setValue(this.$slider.getData().value1),this.to.setValue(this.$slider.getData().value2),this.min.setValue(this.$slider.getData().min),this.max.setValue(this.$slider.getData().max),this.vertical.setValue(this.$slider.getData().isVertical),this.range.setValue(this.$slider.getData().isRange),this.label.setValue(this.$slider.getData().isLabel),this.checkboxScale.setValue(this.$slider.getData().isScale),this.initListeners()}initListeners(){this.element.addEventListener("click",this.handler.bind(this)),this.element.addEventListener("keyup",this.handler.bind(this)),this.onChangeForSlider()}onChangeForSlider(){let e=this;this.$slider.getData().onChange=function(t){e.from.setValue(t.value1),e.to.setValue(t.value2),e.show(t.setPanel)}}handler(e){if("keyup"===e.type)switch(e.target){case this.from.getElement():this.$slider.setFrom(this.from.getValue());break;case this.to.getElement():this.$slider.setTo(this.to.getValue());break;case this.min.getElement():this.$slider.setMin(this.min.getValue());break;case this.max.getElement():this.$slider.setMax(this.max.getValue())}if("click"===e.type)switch(e.target){case this.buttonClose.getElement():this.show(!this.$slider.getData().setPanel),this.$slider.closeSettingPanel();break;case this.vertical.getElement():this.$slider.setVertical(this.vertical.getValue());break;case this.range.getElement():this.$slider.setRange(this.range.getValue());break;case this.label.getElement():this.$slider.setLabel(this.label.getValue());break;case this.checkboxScale.getElement():this.$slider.setScale(this.checkboxScale.getValue())}}show(e){e?this.element.classList.remove("-hidden-"):this.element.classList.add("-hidden-")}getElement(){return this.element}}i(5);$((function(){$(".jslider1").jslider({max:100,setPanel:!1}),$(".jslider2").jslider({value1:3,userSetPanel:!0,max:10});new V("jslider2").init(),$(".jslider3").jslider({isVertical:!0,min:10}),$(".jslider4").jslider()}))}]);